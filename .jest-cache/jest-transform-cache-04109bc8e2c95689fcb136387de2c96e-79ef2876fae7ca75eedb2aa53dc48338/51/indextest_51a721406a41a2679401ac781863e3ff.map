{"version":3,"names":["_getJestObj","mock","mockShield","_interopRequireDefault","require","_asyncToGenerator2","_index","_require","jest","isRooted","fn","addSSLPinning","preventScreenshot","setSecureString","getSecureString","removeSecureString","describe","beforeEach","clearAllMocks","it","mockReturnValue","expect","toBe","toHaveBeenCalledTimes","default","domain","hashes","mockResolvedValue","undefined","toHaveBeenCalledWith","result"],"sources":["index.test.tsx"],"sourcesContent":["\nimport {\n    isRooted,\n    addSSLPinning,\n    preventScreenshot,\n    setSecureString,\n    getSecureString,\n    removeSecureString,\n} from '../index';\n\n// Create a mock for the Native Module\nconst mockShield = {\n    isRooted: jest.fn(),\n    addSSLPinning: jest.fn(),\n    preventScreenshot: jest.fn(),\n    setSecureString: jest.fn(),\n    getSecureString: jest.fn(),\n    removeSecureString: jest.fn(),\n};\n\n// Mock the NativeShield import\njest.mock('../NativeShield', () => mockShield);\n\ndescribe('react-native-shield', () => {\n    beforeEach(() => {\n        jest.clearAllMocks();\n    });\n\n    describe('Device Integrity', () => {\n        it('isRooted calls NativeShield.isRooted', () => {\n            mockShield.isRooted.mockReturnValue(true);\n            expect(isRooted()).toBe(true);\n            expect(mockShield.isRooted).toHaveBeenCalledTimes(1);\n        });\n    });\n\n    describe('SSL Pinning', () => {\n        it('addSSLPinning calls NativeShield.addSSLPinning', async () => {\n            const domain = 'example.com';\n            const hashes = ['sha256/123'];\n            mockShield.addSSLPinning.mockResolvedValue(undefined);\n\n            await addSSLPinning(domain, hashes);\n\n            expect(mockShield.addSSLPinning).toHaveBeenCalledWith(domain, hashes);\n        });\n    });\n\n    describe('UI Privacy', () => {\n        it('preventScreenshot(true) calls NativeShield.preventScreenshot', async () => {\n            mockShield.preventScreenshot.mockResolvedValue(undefined);\n            await preventScreenshot(true);\n            expect(mockShield.preventScreenshot).toHaveBeenCalledWith(true);\n        });\n\n        it('preventScreenshot(false) calls NativeShield.preventScreenshot', async () => {\n            mockShield.preventScreenshot.mockResolvedValue(undefined);\n            await preventScreenshot(false);\n            expect(mockShield.preventScreenshot).toHaveBeenCalledWith(false);\n        });\n    });\n\n    describe('Secure Storage', () => {\n        it('setSecureString pass correct arguments', async () => {\n            mockShield.setSecureString.mockResolvedValue(true);\n            const result = await setSecureString('key', 'value');\n            expect(result).toBe(true);\n            expect(mockShield.setSecureString).toHaveBeenCalledWith('key', 'value');\n        });\n\n        it('getSecureString returns stored value', async () => {\n            mockShield.getSecureString.mockResolvedValue('secret');\n            const result = await getSecureString('key');\n            expect(result).toBe('secret');\n            expect(mockShield.getSecureString).toHaveBeenCalledWith('key');\n        });\n\n        it('removeSecureString calls native remove', async () => {\n            mockShield.removeSecureString.mockResolvedValue(true);\n            const result = await removeSecureString('key');\n            expect(result).toBe(true);\n            expect(mockShield.removeSecureString).toHaveBeenCalledWith('key');\n        });\n    });\n});\n"],"mappings":"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","ignoreList":[]}