{"version":3,"names":["_getJestObj","mock","__esModule","default","isRooted","jest","fn","addSSLPinning","preventScreenshot","setSecureString","getSecureString","removeSecureString","_interopRequireDefault","require","_asyncToGenerator2","_index","_NativeShield","_require","describe","beforeEach","clearAllMocks","it","NativeShield","mockReturnValue","expect","toBe","toHaveBeenCalledTimes","domain","hashes","mockResolvedValue","undefined","toHaveBeenCalledWith","result"],"sources":["index.test.tsx"],"sourcesContent":["\nimport {\n    isRooted,\n    addSSLPinning,\n    preventScreenshot,\n    setSecureString,\n    getSecureString,\n    removeSecureString,\n} from '../index';\nimport NativeShield from '../NativeShield';\n\n// Prepare the mock\njest.mock('../NativeShield', () => {\n    return {\n        __esModule: true,\n        default: {\n            isRooted: jest.fn(),\n            addSSLPinning: jest.fn(),\n            preventScreenshot: jest.fn(),\n            setSecureString: jest.fn(),\n            getSecureString: jest.fn(),\n            removeSecureString: jest.fn(),\n        },\n    };\n});\n\ndescribe('react-native-shield', () => {\n    beforeEach(() => {\n        jest.clearAllMocks();\n    });\n\n    describe('Device Integrity', () => {\n        it('isRooted calls NativeShield.isRooted', () => {\n            (NativeShield.isRooted as jest.Mock).mockReturnValue(true);\n            expect(isRooted()).toBe(true);\n            expect(NativeShield.isRooted).toHaveBeenCalledTimes(1);\n        });\n    });\n\n    describe('SSL Pinning', () => {\n        it('addSSLPinning calls NativeShield.addSSLPinning', async () => {\n            const domain = 'example.com';\n            const hashes = ['sha256/123'];\n            (NativeShield.addSSLPinning as jest.Mock).mockResolvedValue(undefined);\n\n            await addSSLPinning(domain, hashes);\n\n            expect(NativeShield.addSSLPinning).toHaveBeenCalledWith(domain, hashes);\n        });\n    });\n\n    describe('UI Privacy', () => {\n        it('preventScreenshot(true) calls NativeShield.preventScreenshot', async () => {\n            (NativeShield.preventScreenshot as jest.Mock).mockResolvedValue(undefined);\n            await preventScreenshot(true);\n            expect(NativeShield.preventScreenshot).toHaveBeenCalledWith(true);\n        });\n\n        it('preventScreenshot(false) calls NativeShield.preventScreenshot', async () => {\n            (NativeShield.preventScreenshot as jest.Mock).mockResolvedValue(undefined);\n            await preventScreenshot(false);\n            expect(NativeShield.preventScreenshot).toHaveBeenCalledWith(false);\n        });\n    });\n\n    describe('Secure Storage', () => {\n        it('setSecureString pass correct arguments', async () => {\n            (NativeShield.setSecureString as jest.Mock).mockResolvedValue(true);\n            const result = await setSecureString('key', 'value');\n            expect(result).toBe(true);\n            expect(NativeShield.setSecureString).toHaveBeenCalledWith('key', 'value');\n        });\n\n        it('getSecureString returns stored value', async () => {\n            (NativeShield.getSecureString as jest.Mock).mockResolvedValue('secret');\n            const result = await getSecureString('key');\n            expect(result).toBe('secret');\n            expect(NativeShield.getSecureString).toHaveBeenCalledWith('key');\n        });\n\n        it('removeSecureString calls native remove', async () => {\n            (NativeShield.removeSecureString as jest.Mock).mockResolvedValue(true);\n            const result = await removeSecureString('key');\n            expect(result).toBe(true);\n            expect(NativeShield.removeSecureString).toHaveBeenCalledWith('key');\n        });\n    });\n});\n"],"mappings":"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","ignoreList":[]}